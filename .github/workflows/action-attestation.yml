name: Attestation Action

on:
    workflow_dispatch: 


permissions:
      contents: read
      packages: write
      id-token: write 
      attestations: write


jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Check out directory
              uses: actions/checkout@v4
            - uses: actions/attest-build-provenance@v1
              id: attest
              with:
                subject-path: README.md

            - uses: actions/upload-artifact@v4
              with:
                name: Build Artifacts
                path: | 
                  README.md
                  ${{ steps.attest.outputs.bundle-path }}